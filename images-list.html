<link rel="import" href="components/polymer/polymer.html">
<link rel="import" href="image-service/image-service.html">

<style type="text/css">
  .core-overlay-backdrop{
    opacity: 0.92 !important;
  }
</style>

<polymer-element name="images-list" attributes="show">
  <template>
    <style>
      :host {
        display: block;
        width: 100%;
      }

      paper-shadow {
        display: inline-block;
        background: white;
        box-sizing: border-box;
        width: 200px;
        height: 200px;
        padding:2px;
        margin: 16px;
      }

      core-image {
        width:100%;
        height: 100%;
        border: 1px solid white;
      }
      #card {
        /*width:300px;*/
        /*height: 80%;*/*/
        /*background-color: white;*/
      }
      
      
      
    </style>

    <image-service id="service" images="{{images}}" albumid="5702010536228604337"></image-service>

    <div horizontal layout wrap>
      <template repeat="{{image in images}}">
          <paper-shadow z="1">
              <core-image
                src="{{image.src}}"
                sizing="cover"
                preload
                fade >
              </core-image>
              <paper-ripple image="{{image.src}}" fit on-click="{{handleClick}}"></paper-ripple>
          </paper-shadow>
      </template>
    </div>
    
    <core-overlay id="card" backdrop>
      <div style="display: block; width:300px; height:500px">
        <core-image
                src="{{lastSelectedImage}}"
                sizing="null"
                preload
                fade></core-image>
      </div>
    </core-overlay>
  </template>
  


  <script>
    Polymer({
      lastSelectedImage: null,
      
      handleClick: function(e, detail, sender){
        var image = sender.templateInstance.model.image.src;
        this.lastSelectedImage = image;
        this.$.card.toggle();
        console.log(image);
      }
    });
  </script>
</polymer-element>
