<link rel="import" href="components/polymer/polymer.html">
<link rel="import" href="image-service/image-service.html">

<style type="text/css">
  .core-overlay-backdrop{
    opacity: 0.92 !important;
  }
</style>

<polymer-element name="images-list" attributes="show" fit>
  <template>
    <style>
      :host {
        display: inline-block;
        width: 100%;
      }

      paper-shadow {
        display: inline-block;
        background: white;
        box-sizing: border-box;
        width: 200px;
        height: 200px;
        padding:2px;
        margin: 16px;
      }

      core-image {
        width:100%;
        height: 100%;
        border: 1px solid white;
      }
      #card {
        /*max-height:80%;*/
        /*display: block;*/
      }
      
    .image{
      /*min-width: 300px;*/
      /*min-height: 300px;*/
      border: 3px solid white;
      max-height:80%;
      height: auto;
      width: auto;
    }
      
      
      
    </style>

    <image-service id="service" images="{{images}}" albumid="5702010536228604337"></image-service>

    <div horizontal layout wrap>
      <template repeat="{{image in images}}">
          <paper-shadow z="1">
              <core-image
                src="{{image.src}}" >
              </core-image>
              <paper-ripple image="{{image.src}}" fit on-click="{{handleClick}}"></paper-ripple>
          </paper-shadow>
      </template>
    </div>
    
    <core-overlay id="card" backdrop horizontal layout center center-justified fit>
        <img class="image" src="{{lastSelectedImage}}">
    </core-overlay>
  </template>
  


  <script>
    Polymer({
      lastSelectedImage: null,
      
      handleClick: function(e, detail, sender){
        var image = sender.templateInstance.model.image;
        this.lastSelectedImage = image.src;
        this.$.card.toggle();
        // this.$.card.style.width=image.width;
        // this.$.card.style.height=image.height;
        console.log(image.width);
      }
    });
  </script>
</polymer-element>
